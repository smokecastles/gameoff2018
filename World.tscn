[gd_scene load_steps=18 format=2]

[ext_resource path="res://World.gd" type="Script" id=1]
[ext_resource path="res://Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://tiles/GroundTiles.tres" type="TileSet" id=3]
[ext_resource path="res://sprites/background/cloud5.png" type="Texture" id=4]
[ext_resource path="res://sprites/background/hills1.png" type="Texture" id=5]
[ext_resource path="res://sprites/background/castle_grey.png" type="Texture" id=6]
[ext_resource path="res://sprites/background/cloud9.png" type="Texture" id=7]
[ext_resource path="res://InvadersFormation.tscn" type="PackedScene" id=8]
[ext_resource path="res://InvadersInLine.tscn" type="PackedScene" id=9]
[ext_resource path="res://Spring.tscn" type="PackedScene" id=10]

[sub_resource type="Gradient" id=1]

offsets = PoolRealArray( 0 )
colors = PoolColorArray( 0.274384, 0.648706, 0.949219, 1 )
_sections_unfolded = [ "Resource" ]

[sub_resource type="GradientTexture" id=2]

flags = 4
gradient = SubResource( 1 )
width = 2048

[sub_resource type="Gradient" id=3]

offsets = PoolRealArray( 0 )
colors = PoolColorArray( 0.396078, 0.588235, 0.372549, 1 )

[sub_resource type="GradientTexture" id=4]

flags = 4
gradient = SubResource( 3 )
width = 2048
_sections_unfolded = [ "Resource" ]

[sub_resource type="Curve2D" id=5]

bake_interval = 5.0
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 374.211, 1.31107, 103.821, 147.329, -94.2745, -141.19, 186.855, 1.31107, 0, 0, 0, 0, -0.500589, 1.31107, 100.241, 143.645, -100.241, -146.101, -184.276, 1.31107, 0, 0, 0, 0, -372.825, 0.0833435, 0, 0, 103.821, -143.645, -371.492, 34.045, 0, 0, 96.6611, 138.734, -193.7, 29.5325, 0, 0, 102.628, -149.784, 0.337494, 35.85, 0, 0, 105.015, 142.418, 188.057, 31.3375, 0, 0, 0, 0, 372.167, 33.1425, 0, 0, 0, 0, 374.211, 1.31107 )
}

[sub_resource type="Animation" id=6]

resource_name = "Move"
length = 10.0
loop = true
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath(".:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 10 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0 ]
}

[sub_resource type="RectangleShape2D" id=8]

custom_solver_bias = 0.0
extents = Vector2( 768.802, 10 )

[node name="World" type="Node" index="0"]

script = ExtResource( 1 )
_sections_unfolded = [ "Pause" ]

[node name="Player" parent="." index="0" instance=ExtResource( 2 )]

position = Vector2( 594.756, 393.322 )

[node name="TileMap" type="TileMap" parent="." index="1"]

mode = 0
tile_set = ExtResource( 3 )
cell_size = Vector2( 64, 64 )
cell_quadrant_size = 16
cell_custom_transform = Transform2D( 0, 0, 0, 0, 0, 0 )
cell_half_offset = 2
cell_tile_origin = 0
cell_y_sort = false
cell_clip_uv = false
collision_use_kinematic = false
collision_friction = 1.0
collision_bounce = 0.0
collision_layer = 1
collision_mask = 1
occluder_light_mask = 1
format = 1
tile_data = PoolIntArray( 262143, 3, 0, 327679, 3, 0, 393215, 3, 0, 393216, 1, 0, 393217, 1, 0, 393218, 1, 0, 393219, 1, 0, 393220, 1, 0, 393221, 1, 0, 393222, 1, 0, 393234, 1, 0, 393235, 1, 0, 393236, 1, 0, 393237, 1, 0, 393238, 1, 0, 393239, 1, 0, 393240, 1, 0, 393241, 1, 0, 458752, 3, 0, 458753, 3, 0, 458754, 3, 0, 458755, 3, 0, 458756, 3, 0, 458757, 3, 0, 458758, 3, 0, 458759, 1, 0, 458760, 1, 0, 458761, 1, 0, 458762, 1, 0, 458763, 1, 0, 458764, 1, 0, 458765, 1, 0, 458766, 1, 0, 458767, 1, 0, 458768, 1, 0, 458769, 1, 0, 458770, 3, 0, 458771, 3, 0, 458772, 3, 0, 458773, 3, 0, 458774, 3, 0, 458775, 3, 0, 458776, 3, 0, 458777, 3, 0, 458786, 1, 0, 458787, 1, 0, 458788, 1, 0, 458789, 1, 0, 458790, 1, 0, 458791, 1, 0, 458792, 1, 0, 458793, 1, 0, 458794, 1, 0, 458795, 1, 0, 458796, 1, 0, 458797, 1, 0, 524288, 3, 0, 524289, 3, 0, 524290, 3, 0, 524291, 3, 0, 524292, 3, 0, 524293, 3, 0, 524294, 3, 0, 524295, 3, 0, 524296, 3, 0, 524297, 3, 0, 524298, 3, 0, 524299, 3, 0, 524300, 3, 0, 524301, 3, 0, 524302, 3, 0, 524303, 3, 0, 524304, 3, 0, 524305, 3, 0, 524306, 3, 0, 524307, 3, 0, 524308, 3, 0, 524309, 3, 0, 524310, 3, 0, 524311, 3, 0, 524312, 3, 0, 524313, 3, 0, 524314, 1, 0, 524315, 1, 0, 524316, 1, 0, 524317, 1, 0, 524318, 1, 0, 524319, 1, 0, 524320, 1, 0, 524321, 1, 0, 524322, 3, 0, 524323, 3, 0, 524324, 3, 0, 524325, 3, 0, 524326, 3, 0, 524327, 3, 0, 524328, 3, 0, 524329, 3, 0, 524330, 3, 0, 524331, 3, 0, 524332, 3, 0, 524333, 3, 0, 589824, 3, 0, 589825, 3, 0, 589826, 3, 0, 589827, 3, 0, 589828, 3, 0, 589829, 3, 0, 589830, 3, 0, 589831, 3, 0, 589832, 3, 0, 589833, 3, 0, 589834, 3, 0, 589835, 3, 0, 589836, 3, 0, 589837, 3, 0, 589838, 3, 0, 589839, 3, 0, 589840, 3, 0, 589841, 3, 0, 589842, 3, 0, 589843, 3, 0, 589844, 3, 0, 589845, 3, 0, 589846, 3, 0, 589847, 3, 0, 589848, 3, 0, 589849, 3, 0, 589850, 3, 0, 589851, 3, 0, 589852, 3, 0, 589853, 3, 0, 589854, 3, 0, 589855, 3, 0, 589856, 3, 0, 589857, 3, 0, 589858, 3, 0, 589859, 3, 0, 589860, 3, 0, 589861, 3, 0, 589862, 3, 0, 589863, 3, 0, 589864, 3, 0, 589865, 3, 0, 589866, 3, 0, 589867, 3, 0, 589868, 3, 0, 589869, 3, 0, 655360, 3, 0, 655361, 3, 0, 655362, 3, 0, 655363, 3, 0, 655364, 3, 0, 655365, 3, 0, 655366, 3, 0, 655367, 3, 0, 655368, 3, 0, 655369, 3, 0, 655370, 3, 0, 655371, 3, 0, 655372, 3, 0, 655373, 3, 0, 655374, 3, 0, 655375, 3, 0, 655376, 3, 0, 655377, 3, 0, 655378, 3, 0, 655379, 3, 0, 655380, 3, 0, 655381, 3, 0, 655382, 3, 0, 655383, 3, 0, 655384, 3, 0, 655385, 3, 0, 655386, 3, 0, 655387, 3, 0, 655388, 3, 0, 655389, 3, 0, 655390, 3, 0, 655391, 3, 0, 655392, 3, 0, 655393, 3, 0, 655394, 3, 0, 655395, 3, 0, 655396, 3, 0, 655397, 3, 0, 655398, 3, 0, 655399, 3, 0, 655400, 3, 0, 655401, 3, 0, 655402, 3, 0, 655403, 3, 0, 655404, 3, 0, 655405, 3, 0, 720896, 3, 0, 720897, 3, 0, 720898, 3, 0, 720899, 3, 0, 720900, 3, 0, 720901, 3, 0, 720902, 3, 0, 720903, 3, 0, 720904, 3, 0, 720905, 3, 0, 720906, 3, 0, 720907, 3, 0, 720908, 3, 0, 720909, 3, 0, 720910, 3, 0, 720911, 3, 0, 720912, 3, 0, 720913, 3, 0, 720914, 3, 0, 720915, 3, 0, 720916, 3, 0, 720917, 3, 0, 720918, 3, 0, 720919, 3, 0, 720920, 3, 0, 720921, 3, 0, 720922, 3, 0, 720923, 3, 0, 720924, 3, 0, 720925, 3, 0, 720926, 3, 0, 720927, 3, 0, 720928, 3, 0, 720929, 3, 0, 720930, 3, 0, 720931, 3, 0, 720932, 3, 0, 720933, 3, 0, 720934, 3, 0, 720935, 3, 0, 720936, 3, 0, 720937, 3, 0, 720938, 3, 0, 720939, 3, 0, 720940, 3, 0, 720941, 3, 0, 786432, 3, 0, 786433, 3, 0, 786434, 3, 0, 786435, 3, 0, 786436, 3, 0, 786437, 3, 0, 786438, 3, 0, 786439, 3, 0, 786440, 3, 0, 786441, 3, 0, 786442, 3, 0, 786443, 3, 0, 786444, 3, 0, 786445, 3, 0, 786446, 3, 0, 786447, 3, 0, 786448, 3, 0, 786449, 3, 0, 786450, 3, 0, 786451, 3, 0, 786452, 3, 0, 786453, 3, 0, 786454, 3, 0, 786455, 3, 0, 786456, 3, 0, 786457, 3, 0, 786458, 3, 0, 786459, 3, 0, 786460, 3, 0, 786461, 3, 0, 786462, 3, 0, 786463, 3, 0, 786464, 3, 0, 786465, 3, 0, 786466, 3, 0, 786467, 3, 0, 786468, 3, 0, 786469, 3, 0, 786470, 3, 0, 786471, 3, 0, 786472, 3, 0, 786473, 3, 0, 786474, 3, 0, 786475, 3, 0, 786476, 3, 0, 786477, 3, 0 )
_sections_unfolded = [ "Cell", "Collision", "Material", "Occluder", "Transform", "Visibility", "Z Index" ]

[node name="ParallaxBackground" type="ParallaxBackground" parent="." index="2"]

layer = -1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )
transform = Transform2D( 1, 0, 0, 1, 0, 0 )
scroll_offset = Vector2( 0, 0 )
scroll_base_offset = Vector2( 0, 0 )
scroll_base_scale = Vector2( 1, 1 )
scroll_limit_begin = Vector2( 0, 0 )
scroll_limit_end = Vector2( 0, 0 )
scroll_ignore_camera_zoom = true
_sections_unfolded = [ "Scroll" ]

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground" index="0"]

motion_scale = Vector2( 0.3, 0.3 )
motion_offset = Vector2( 0, -150 )
motion_mirroring = Vector2( 1024, 600 )
_sections_unfolded = [ "Motion" ]

[node name="Sky" type="Sprite" parent="ParallaxBackground/ParallaxLayer3" index="0"]

position = Vector2( 0, -323.054 )
scale = Vector2( 1, 1.53842 )
texture = SubResource( 2 )
centered = false
region_enabled = true
region_rect = Rect2( 0, 0, 1024, 600 )
_sections_unfolded = [ "Animation", "Material", "Offset", "Region" ]

[node name="Cloud3" type="Sprite" parent="ParallaxBackground/ParallaxLayer3" index="1"]

position = Vector2( 304.674, 118.13 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 4 )
centered = false
flip_h = true
_sections_unfolded = [ "Offset", "Region", "Transform" ]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground" index="1"]

position = Vector2( 0, 100 )
motion_scale = Vector2( 0.3, 0.3 )
motion_offset = Vector2( 0, -150 )
motion_mirroring = Vector2( 1024, 0 )
_sections_unfolded = [ "Material", "Motion", "Transform", "Visibility", "Z Index" ]

[node name="Ground" type="Sprite" parent="ParallaxBackground/ParallaxLayer" index="0"]

position = Vector2( 0, 300.636 )
scale = Vector2( 1, 0.885279 )
texture = SubResource( 4 )
centered = false
region_enabled = true
region_rect = Rect2( 0, 0, 1024, 600 )
_sections_unfolded = [ "Animation", "Material", "Offset", "Region" ]

[node name="Hills" type="Sprite" parent="ParallaxBackground/ParallaxLayer" index="1"]

modulate = Color( 0.396078, 0.588235, 0.372549, 1 )
position = Vector2( 512.531, 237.907 )
scale = Vector2( 1.02601, 1.04418 )
texture = ExtResource( 5 )
_sections_unfolded = [ "Material", "Offset", "Transform", "Visibility", "Z Index" ]

[node name="Castle" type="Sprite" parent="ParallaxBackground/ParallaxLayer" index="2"]

position = Vector2( 660.546, 169.154 )
rotation = 0.149658
scale = Vector2( 0.523403, 0.523403 )
texture = ExtResource( 6 )
_sections_unfolded = [ "Animation", "Offset", "Region", "Visibility", "Z Index" ]

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground" index="2"]

motion_scale = Vector2( 0.5, 0.5 )
motion_offset = Vector2( 0, -100 )
motion_mirroring = Vector2( 1024, 700 )
_sections_unfolded = [ "Motion", "Transform", "Z Index" ]

[node name="Cloud1" type="Sprite" parent="ParallaxBackground/ParallaxLayer2" index="0"]

position = Vector2( 282.261, -130.786 )
texture = ExtResource( 4 )
centered = false
_sections_unfolded = [ "Animation", "Offset", "Region", "Transform" ]

[node name="Cloud2" type="Sprite" parent="ParallaxBackground/ParallaxLayer2" index="1"]

position = Vector2( 815.049, 62.3509 )
texture = ExtResource( 7 )
centered = false
flip_h = true
_sections_unfolded = [ "Animation", "Material", "Offset", "Region", "Transform", "Visibility", "Z Index" ]

[node name="InvadersPath2D" type="Path2D" parent="." index="3"]

self_modulate = Color( 0.5, 0.6, 1, 0.7 )
position = Vector2( 0, 50 )
curve = SubResource( 5 )
_sections_unfolded = [ "Material", "Transform", "Visibility", "Z Index" ]

[node name="InvadersPathFollow2D" type="PathFollow2D" parent="InvadersPath2D" index="0"]

position = Vector2( 374.211, 1.31107 )
offset = 0.0
h_offset = 0.0
v_offset = 0.0
rotate = false
cubic_interp = true
loop = true
lookahead = 4.0
_sections_unfolded = [ "Transform" ]

[node name="AnimationPlayer" type="AnimationPlayer" parent="InvadersPath2D/InvadersPathFollow2D" index="0"]

root_node = NodePath("..")
autoplay = "Move"
playback_process_mode = 1
playback_default_blend_time = 0.0
playback_speed = 1.0
anims/Move = SubResource( 6 )
blend_times = [  ]

[node name="InvadersFormation" parent="InvadersPath2D/InvadersPathFollow2D" index="1" instance=ExtResource( 8 )]

[node name="InvadersInLine" parent="." index="4" instance=ExtResource( 9 )]

position = Vector2( 748.863, -854.332 )

[node name="Invaders" type="Node" parent="." index="5"]

[node name="HeightDetectionArea2D" type="Area2D" parent="." index="6"]

input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"

[node name="HeightDetectionCollisionShape2D" type="CollisionShape2D" parent="HeightDetectionArea2D" index="0"]

position = Vector2( 1248.6, 91.6486 )
shape = SubResource( 8 )

[node name="Springs" type="Node" parent="." index="7"]

[node name="Spring" parent="Springs" index="0" instance=ExtResource( 10 )]

position = Vector2( 1212.4, 367.174 )

[node name="Spring2" parent="Springs" index="1" instance=ExtResource( 10 )]

position = Vector2( 1322.59, 368.534 )

[node name="Spring3" parent="Springs" index="2" instance=ExtResource( 10 )]

position = Vector2( 1438.22, 368.534 )

[node name="Spring4" parent="Springs" index="3" instance=ExtResource( 10 )]

position = Vector2( 1558.46, 367.719 )

[connection signal="body_entered" from="HeightDetectionArea2D" to="." method="_on_HeightDetectionArea2D_body_entered"]

[connection signal="body_exited" from="HeightDetectionArea2D" to="." method="_on_HeightDetectionArea2D_body_exited"]


